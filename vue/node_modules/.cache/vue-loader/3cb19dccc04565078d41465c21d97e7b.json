{"remainingRequest":"D:\\phpStudy\\PHPTutorial\\WWW\\VueAdmin\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpStudy\\PHPTutorial\\WWW\\VueAdmin\\vue\\src\\views\\login\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\VueAdmin\\vue\\src\\views\\login\\Login.vue","mtime":1569461713139},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\VueAdmin\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\VueAdmin\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\VueAdmin\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\VueAdmin\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {Login} from '../../axios/api';\nexport default {\n    name: \"Login\",\n    data () {\n        return{\n            systemName:\"VueAdmin通用后台登录\",\n            spinning:false,\n        }\n    },\n    beforeCreate () {\n        this.form = this.$form.createForm(this);\n    },\n    methods: {\n        handleSubmit (e) {\n            this.spinning = true;\n            e.preventDefault();\n            this.form.validateFields((err, values) => {\n                if (!err) {\n                    const params = {\n                                username:values.username,\n                                password:values.password,\n                                remember:values.remember\n                            };\n\n                    Login(params).then((response)=>{\n                        if (response.data.code === 1){\n                            this.$cookie.set('user_id',response.data.data.user_id);\n                            this.$cookie.set('user_name',response.data.data.user_name);\n                            this.$cookie.set('user_access_token',response.data.data.user_access_token);\n\n                            //同步通知接口\n                            this.Inform(response.data.data.urlRows);\n\n                            this.$router.replace({path: '/index'});\n                        }else {\n                            this.spinning = false;\n                            this.openNotificationWithIcon(response);\n                        }\n\n                    });\n\n                }\n            });\n        },\n        openNotificationWithIcon (msg) {\n            this.$notification['error']({\n                message: '登录失败！！！',\n                description: msg,\n            });\n        },\n        Inform(urlRows){\n            var url_num = urlRows.length;\n            for(let i = 0; i< url_num; i++) {\n                this.$http.jsonp(urlRows[i],{jsonp:'callback'}).then(function (res) {});\n            }\n        },\n    },\n};\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\r\n        <a-form id=\"components-form-demo-normal-login\" :form=\"form\" class=\"login-form\" @submit=\"handleSubmit\">\r\n            <a-spin size=\"large\" tip=\"登录中...\" style=\"font-size: 20px\" :spinning=\"spinning\" />\r\n            <h2 id=\"title\">{{systemName}}</h2>\r\n            <a-form-item>\r\n                <a-input v-decorator=\"['username',{ rules: [{ required: true, message: 'Please input your username!' }] }]\" placeholder=\"Username\">\r\n                    <a-icon slot=\"prefix\" type=\"user\" style=\"color: rgba(0,0,0,.25)\"/>\r\n                </a-input>\r\n            </a-form-item>\r\n            <a-form-item>\r\n                <a-input v-decorator=\"['password',{ rules: [{ required: true, message: 'Please input your Password!' }] }]\" type=\"password\" placeholder=\"Password\">\r\n                    <a-icon slot=\"prefix\" type=\"lock\" style=\"color: rgba(0,0,0,.25)\"/>\r\n                </a-input>\r\n            </a-form-item>\r\n            <a-form-item>\r\n                <a-checkbox v-decorator=\"['remember',{valuePropName: 'checked',initialValue: true,}]\">\r\n                    Remember me\r\n                </a-checkbox>\r\n                <a class=\"login-form-forgot\" href=\"\">\r\n                    Forgot password\r\n                </a>\r\n                <a-button type=\"primary\" html-type=\"submit\" class=\"login-form-button\">\r\n                    Log in\r\n                </a-button>\r\n                Or <router-link to=\"/register\">\r\n                register now!\r\n            </router-link>\r\n            </a-form-item>\r\n        </a-form>\r\n</template>\r\n\r\n<script>\r\n    import {Login} from '../../axios/api';\r\n    export default {\r\n        name: \"Login\",\r\n        data () {\r\n            return{\r\n                systemName:\"VueAdmin通用后台登录\",\r\n                spinning:false,\r\n            }\r\n        },\r\n        beforeCreate () {\r\n            this.form = this.$form.createForm(this);\r\n        },\r\n        methods: {\r\n            handleSubmit (e) {\r\n                this.spinning = true;\r\n                e.preventDefault();\r\n                this.form.validateFields((err, values) => {\r\n                    if (!err) {\r\n                        const params = {\r\n                                    username:values.username,\r\n                                    password:values.password,\r\n                                    remember:values.remember\r\n                                };\r\n\r\n                        Login(params).then((response)=>{\r\n                            if (response.data.code === 1){\r\n                                this.$cookie.set('user_id',response.data.data.user_id);\r\n                                this.$cookie.set('user_name',response.data.data.user_name);\r\n                                this.$cookie.set('user_access_token',response.data.data.user_access_token);\r\n\r\n                                //同步通知接口\r\n                                this.Inform(response.data.data.urlRows);\r\n\r\n                                this.$router.replace({path: '/index'});\r\n                            }else {\r\n                                this.spinning = false;\r\n                                this.openNotificationWithIcon(response);\r\n                            }\r\n\r\n                        });\r\n\r\n                    }\r\n                });\r\n            },\r\n            openNotificationWithIcon (msg) {\r\n                this.$notification['error']({\r\n                    message: '登录失败！！！',\r\n                    description: msg,\r\n                });\r\n            },\r\n            Inform(urlRows){\r\n                var url_num = urlRows.length;\r\n                for(let i = 0; i< url_num; i++) {\r\n                    this.$http.jsonp(urlRows[i],{jsonp:'callback'}).then(function (res) {});\r\n                }\r\n            },\r\n        },\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    #components-form-demo-normal-login .login-form {\r\n        max-width: 300px;\r\n    }\r\n    #components-form-demo-normal-login .login-form-forgot {\r\n        float: right;\r\n    }\r\n    #components-form-demo-normal-login .login-form-button {\r\n        width: 100%;\r\n    }\r\n    .login-form {\r\n        padding: 20px;\r\n        /*box-shadow: 0 0px 8px 0 rgba(0, 0, 0, 0.06), 0 1px 0px 0 rgba(0, 0, 0, 0.02);*/\r\n        -webkit-border-radius: 5px;\r\n        border-radius: 5px;\r\n        -moz-border-radius: 5px;\r\n        background-clip: padding-box;\r\n        margin-bottom: 20px;\r\n        background-color: #F9FAFC;\r\n        margin: 120px auto;\r\n        width: 400px;\r\n        border: 2px solid #8492A6;\r\n    }\r\n\r\n    #title {\r\n        margin: 0px auto 40px auto;\r\n        text-align: center;\r\n        color: #505458;\r\n    }\r\n\r\n    .login-form {\r\n        width: 350px;\r\n        padding: 35px 35px 15px 35px;\r\n    }\r\n</style>"]}]}